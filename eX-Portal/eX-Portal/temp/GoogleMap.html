<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyDY6IHXH4-fUAzYq6HBR_ndu_lnyyopcTs&sensor=false"></script>
  <script type="text/javascript" src="data.js"></script>
  <style type="text/css">
    html, body {
      margin:0px;
      padding:0px;
    }
    #map_canvas {
      width:100%;
      height:100%;
      position:absolute;
      top:0px;
      left:0px;
    }
  </style>
    <title>Google Map Editor</title>
  <script type="text/javascript">
    var geoXmlDoc = null;
    var Polygon = [];
    window.onload = initializeMap;
    var Coordinates = [
      { lat: 25.24247, lng: 55.32145 },
      { lat: 25.24417, lng: 55.32638 },
      { lat: 25.24464, lng: 55.33131 },
      { lat: 25.25163, lng: 55.33109 }
    ]
    function initializeMap() {
      var mapOptions = {
        zoom: 10,
        center: { lat: 25.01904, lng: 55.09785 },
        panControl: false,
        mapTypeControl: true,
        mapTypeControlOptions: {
          position: google.maps.ControlPosition.RIGHT_TOP,
        },
        zoomControl: true,
        zoomControlOptions: {
          style: google.maps.ZoomControlStyle.LARGE,
          position: google.maps.ControlPosition.LEFT_TOP,
        },
        scaleControl: false,
        streetViewControl: true,
        overviewMapControl: false,

        mapTypeId: google.maps.MapTypeId.HYBRID
      };

      map = new google.maps.Map(document.getElementById('map_canvas'),
          mapOptions);
      

      var cityCircle1 = new google.maps.Circle({
        strokeColor: '#0000FF',
        strokeOpacity: 0.8,
        strokeWeight: 2,
        fillColor: '#0000FF',
        fillOpacity: 0.35,
        map: map,
        center: {lat: 25.24247,lng: 55.32145},
        radius: 9000,
        editable: true,
        draggable: true,
        zIndex:0
      });
      
      var cityCircle2 = new google.maps.Circle({
        strokeColor: '#0000FF',
        strokeOpacity: 0.8,
        strokeWeight: 2,
        fillColor: '#00FFFF',
        fillOpacity: 0.35,
        map: map,
        center: { lat: 25.24247, lng: 55.32145 },
        radius: 9000,
        editable: true,
        draggable: true,
        zIndex: 0
      });

      //  myInterval = setInterval(function () { }, 500);
      for (var i = 0; i < MapData.length; i++) {
        // Construct the polygon.
        var thisPoly = new google.maps.Polygon({
          paths: MapData[i].Coordinates,
          strokeColor: 'Black',
          strokeOpacity: 0.8,
          strokeWeight: 1,
          fillColor: MapData[i].FillColor,
          fillOpacity: 0.35,
          editable: true,
          draggable: false,
          title: MapData[i].ZoneName,
          zIndex:(100  + i)
        });
        thisPoly.setMap(map);
        Polygon.push(thisPoly);
      }

    };

    function getAllCoordinates() {
      var Out = '';
      for (var i = 0; i < Polygon.length; i++) {
        Out += "('" + Polygon[i].title + "'," +
          "'" + Polygon[i].fillColor + "'," +
          "'" + getPolygonCoords(Polygon[i]) + "'),\n";
      }
      console.log(Out);
    }

    function getPolygonCoords(ThePoly) {
      var len = ThePoly.getPath().getLength();
      var htmlStr = "";
      for (var i = 0; i < len; i++) {
        if (htmlStr != "") htmlStr += ",";
        htmlStr +=
          ThePoly.getPath().getAt(i).lat() + ' ' +
          ThePoly.getPath().getAt(i).lng();
      }
      return htmlStr;
    }
  </script>
</head>
<body>
  <div id="map_canvas"></div>

</body>
</html>