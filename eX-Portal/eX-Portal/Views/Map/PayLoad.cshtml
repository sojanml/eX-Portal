@using eX_Portal.exLogic;

@model eX_Portal.exLogic.qView

<div id="map-holder">
  <div id="map_canvas" style="width: 100%; height: 480px;"></div>
  <div id="map-info">Click on a block for information</div>
</div>
<div id="grid-holder" style="display:none;">
  <div id="grid-holder-content"></div>
</div>

<div style="height:20px;">&nbsp;</div>

@Html.Raw(Model.getDataTable())

@section scripts {
  <script type="text/javascript">
  @Html.Raw(Model.getScripts())
  </script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=geometry"></script>
<script type="text/javascript" src="~/Scripts/infobox.js".js"></script>
<script type="text/javascript">
  @{
    GeoGrid Info = new GeoGrid(ViewBag.FlightUniqueID.ToString());
  }
  var RFID_Url = '@Url.Action("getRFID", "PayLoad", new { FlightUniqueID =  ViewBag.FlightUniqueID.ToString()})';
  var rfid_auto_correct_Url = '@Url.Action("AutoCorrect", "PayLoad", new { FlightUniqueID =  ViewBag.FlightUniqueID.ToString()})';
  var GridBoundBox = @Html.Raw(Info.getBox());
  var GridLinesRows = [
    @Html.Raw(Info.getRowLines())
  ];

  var GridLinesCols = [
    @Html.Raw(Info.getColumnLines())
  ];
  var Grid = [
    @Html.Raw(Info.getGrid(ViewBag.FlightUniqueID))
  ] 
  var TableDef = {@Html.Raw(Info.getTable(ViewBag.FlightUniqueID))};
</script>
<script type="text/javascript" src="~/Scripts/PayLoadMap.js"></script>
}

@section header{
<link href="~/Content/map.css" rel="stylesheet" />
}
@section toolbar {
<a href="#" class="button" id="rfid-virtual-grid">Virtual Grid</a>
<a href="#" class="button" id="rfid-google-map">Google Map</a>
<a href="#" class="button" id="rfid-auto-correct">Auto Correct</a>
}